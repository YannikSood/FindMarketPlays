{"ast":null,"code":"var _jsxFileName = \"/Users/yanniksood/Desktop/FindMarketPlays.com/FindMarketPlays/client/src/components/Notes/NoteDetail.js\";\nimport React, { useEffect, useState, Fragment } from 'react';\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { Row, Col, Container, Button } from \"react-bootstrap\";\nimport ScrollingWidget from '../Widgets/ScrollingWidget';\nimport firebase from '../../firebase/firebase';\nimport Loader from '../Loader';\nimport { receiveNote } from '../../actions/notes';\nimport { useDispatch } from 'react-redux';\nimport { connect } from \"react-redux\";\n\nconst NoteDetail = ({\n  currentUser,\n  addNote\n}) => {\n  // Hooks\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [isLoading, setIsLoading] = useState(true);\n  const [note, setNote] = useState([]);\n  const slug = useParams();\n  useEffect(() => {\n    firebase.database().ref(`/user-notes/${currentUser.id}/${slug.id}`).once(\"value\").then(snapshot => {\n      setNote(snapshot === null || snapshot === void 0 ? void 0 : snapshot.val());\n      dispatch(receiveNote(snapshot === null || snapshot === void 0 ? void 0 : snapshot.val()));\n      setIsLoading(false);\n    }).catch(err => {\n      console.log(\"error fetching note: \", err);\n      setIsLoading(false);\n    });\n  }, [slug.id]); // Handlers\n\n  let updates = {};\n  updates[`/notes/${note.id}`] = note;\n  updates[`/user-notes/${currentUser.id}/${note.id}`] = note;\n\n  function component() {\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"d-flex justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, note.title), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"mt-1 ml-3\",\n      variant: \"primary\",\n      onClick: () => {\n        history.push(`/note/edit/${slug.id}`);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 15\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n      className: \"mt-1 ml-3\",\n      variant: \"danger\",\n      onClick: () => {\n        firebase.database().ref(`/user-notes/${currentUser.id}/${note.id}`).remove().then(() => history.push(`/notes`)).catch(err => \"Cannot delete\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }, \"Delete\"), /*#__PURE__*/React.createElement(Button, {\n      className: \"mt-1 ml-3\",\n      variant: \"secondary\",\n      onClick: () => {\n        history.push(`/notes`);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, \"Back\")))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: note.body\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ScrollingWidget, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }), isLoading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }) : component());\n};\n\nconst mapStateToProps = state => {\n  const {\n    auth\n  } = state;\n  return {\n    currentUser: auth.currentUser,\n    isAuthed: auth.isAuthed\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  addNote: note => dispatch(receiveNote(note))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NoteDetail);","map":{"version":3,"sources":["/Users/yanniksood/Desktop/FindMarketPlays.com/FindMarketPlays/client/src/components/Notes/NoteDetail.js"],"names":["React","useEffect","useState","Fragment","useParams","useHistory","Row","Col","Container","Button","ScrollingWidget","firebase","Loader","receiveNote","useDispatch","connect","NoteDetail","currentUser","addNote","dispatch","history","isLoading","setIsLoading","note","setNote","slug","database","ref","id","once","then","snapshot","val","catch","err","console","log","updates","component","title","push","remove","__html","body","mapStateToProps","state","auth","isAuthed","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, Fragment } from 'react';\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { Row, Col, Container, Button } from \"react-bootstrap\";\nimport ScrollingWidget from '../Widgets/ScrollingWidget';\nimport firebase from '../../firebase/firebase';\nimport Loader from '../Loader';\nimport { receiveNote } from '../../actions/notes';\nimport { useDispatch } from 'react-redux';\nimport { connect } from \"react-redux\";\n\nconst NoteDetail = ({currentUser, addNote }) => {\n  // Hooks\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [isLoading, setIsLoading] = useState(true);\n  const [note, setNote] = useState([]);\n  const slug = useParams();\n  useEffect(() => {\n    firebase\n      .database()\n      .ref(`/user-notes/${currentUser.id}/${slug.id}`)\n      .once(\"value\")\n      .then((snapshot) => {\n        setNote(snapshot?.val());\n        dispatch(receiveNote(snapshot?.val()));\n        setIsLoading(false);\n      })\n      .catch((err) => {\n        console.log(\"error fetching note: \", err);\n        setIsLoading(false);\n      });\n  }, [slug.id]);\n  // Handlers\n\n  let updates = {};\n  updates[`/notes/${note.id}`] = note;\n  updates[`/user-notes/${currentUser.id}/${note.id}`] = note;\n\n  function component() {\n    return (\n      <Container>\n        <Row className=\"mb-3\">\n          <Col className=\"d-flex justify-content-between\">\n            <h1 className=\"d-inline-block\">{note.title}</h1>\n            <div>\n              <Button\n                className=\"mt-1 ml-3\"\n                variant=\"primary\"\n                onClick={() => {\n                  history.push(`/note/edit/${slug.id}`);\n                }}\n              >\n                Edit\n              </Button>\n              <Button\n                className=\"mt-1 ml-3\"\n                variant=\"danger\"\n                onClick={() => {\n                  firebase\n                    .database()\n                    .ref(`/user-notes/${currentUser.id}/${note.id}`)\n                    .remove()\n                    .then(() => history.push(`/notes`))\n                    .catch((err) => \"Cannot delete\");\n                }}\n              >\n                Delete\n              </Button>\n              <Button\n                className=\"mt-1 ml-3\"\n                variant=\"secondary\"\n                onClick={() => {\n                  history.push(`/notes`);\n                }}\n              >\n                Back\n              </Button>\n            </div>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <div dangerouslySetInnerHTML={{ __html: note.body }} />\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n\n  return (\n    <Fragment>\n      <ScrollingWidget />\n      {isLoading ? (\n        <Loader />\n      ) : (\n        component()\n      )}\n    </Fragment>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  const { auth } = state;\n\n  return {\n    currentUser: auth.currentUser,\n    isAuthed: auth.isAuthed,\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  addNote: (note) => dispatch(receiveNote(note))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NoteDetail);\n"]},"metadata":{},"sourceType":"module"}