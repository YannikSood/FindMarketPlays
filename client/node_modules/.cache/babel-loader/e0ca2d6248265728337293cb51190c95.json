{"ast":null,"code":"import _defineProperty from\"/Users/yanniksood/Desktop/FindMarketPlays.com/FindMarketPlays/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/yanniksood/Desktop/FindMarketPlays.com/FindMarketPlays/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/yanniksood/Desktop/FindMarketPlays.com/FindMarketPlays/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Fragment}from'react';import{useDispatch,connect}from'react-redux';import{Row,Col,Container,Button}from'react-bootstrap';import Form from'react-bootstrap/Form';import{useHistory}from'react-router-dom';import*as ROUTES from'../../routes/routes';import firebase from'../../firebase/firebase';import{receiveUser}from'../../reducers/authReducer';import LoginErrors from'../Errors/LoginErrors';var Login=function Login(_ref){var isAuthed=_ref.isAuthed;var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),credentials=_useState2[0],setCredentials=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),loginErrors=_useState4[0],setErrors=_useState4[1];var dispatch=useDispatch();var history=useHistory();useEffect(function(){if(isAuthed)history.push('/');},[isAuthed,history]);var handleChange=function handleChange(e){setCredentials(_objectSpread(_objectSpread({},credentials),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=function handleSubmit(event){event.preventDefault();var email=credentials.email,password=credentials.password;firebase.auth().signInWithEmailAndPassword(email,password).then(function(user){dispatch(receiveUser(user));}).catch(function(error){// Handle Errors here.\nsetErrors(error);});};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Login to access the full platform.\"))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,LoginErrors(loginErrors),/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicEmail\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Email address\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"email\",type:\"email\",placeholder:\"Enter email\",onChange:handleChange,value:credentials.email}),/*#__PURE__*/React.createElement(Form.Text,{className:\"text-muted\"},\"We'll never share your email with anyone else.\")),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Password\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"password\",type:\"password\",placeholder:\"Password\",onChange:handleChange,value:credentials.password})),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",type:\"submit\"},\"Submit\")))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Button,{href:ROUTES.REGISTER,variant:\"secondary\"},\"New User? Register Here\"))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Button,{href:ROUTES.FORGOT_PASSWORD,variant:\"link\"},\"Forgot Password\")))));};var mapStateToProps=function mapStateToProps(state){var auth=state.auth;return{isAuthed:auth.isAuthed};};export default connect(mapStateToProps)(Login);","map":{"version":3,"sources":["/Users/yanniksood/Desktop/FindMarketPlays.com/FindMarketPlays/client/src/components/Auth/Login.js"],"names":["React","useState","useEffect","Fragment","useDispatch","connect","Row","Col","Container","Button","Form","useHistory","ROUTES","firebase","receiveUser","LoginErrors","Login","isAuthed","email","password","credentials","setCredentials","loginErrors","setErrors","dispatch","history","push","handleChange","e","target","name","value","handleSubmit","event","preventDefault","auth","signInWithEmailAndPassword","then","user","catch","error","REGISTER","FORGOT_PASSWORD","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\nimport { useDispatch, connect } from 'react-redux';\nimport { Row, Col, Container, Button } from 'react-bootstrap';\nimport Form from 'react-bootstrap/Form';\nimport { useHistory } from 'react-router-dom';\nimport * as ROUTES from '../../routes/routes';\nimport firebase from '../../firebase/firebase';\nimport { receiveUser } from '../../reducers/authReducer';\nimport LoginErrors from '../Errors/LoginErrors';\n\nconst Login = ({ isAuthed }) => {\n  const [credentials, setCredentials] = useState({ email: '', password: '' });\n  const [loginErrors, setErrors] = useState({});\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    if (isAuthed) history.push('/');\n  }, [isAuthed, history]);\n\n  const handleChange = (e) => {\n    setCredentials({ ...credentials, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const { email, password } = credentials;\n    firebase.auth().signInWithEmailAndPassword(email, password)\n      .then((user) => {\n        dispatch(receiveUser(user));\n      })\n      .catch((error) => {\n        // Handle Errors here.\n        setErrors(error)\n      });\n  };\n  return (\n    <Fragment>\n      <Container>\n\n        <Row>\n          <Col>\n            <h1>Login to access the full platform.</h1>\n          </Col>\n        </Row>\n\n        <Row>\n          <Col>\n          {LoginErrors(loginErrors)}\n\n            <Form onSubmit={handleSubmit}>\n\n              <Form.Group controlId=\"formBasicEmail\">\n                <Form.Label>Email address</Form.Label>\n                <Form.Control name=\"email\" type=\"email\" placeholder=\"Enter email\" onChange={handleChange} value={credentials.email} />\n                <Form.Text className=\"text-muted\">\n                  We&apos;ll never share your email with anyone else.\n                </Form.Text>\n              </Form.Group>\n\n              <Form.Group controlId=\"formBasicPassword\">\n                <Form.Label>Password</Form.Label>\n                <Form.Control name=\"password\" type=\"password\" placeholder=\"Password\" onChange={handleChange} value={credentials.password} />\n              </Form.Group>\n\n              <Button variant=\"primary\" type=\"submit\">\n                Submit\n              </Button>\n            </Form>\n\n          </Col>\n        </Row>\n\n        <Row>\n          <Col>\n\n            <Button href={ROUTES.REGISTER} variant=\"secondary\">New User? Register Here</Button>\n\n          </Col>\n        </Row>\n\n        <Row>\n          <Col>\n\n            <Button href={ROUTES.FORGOT_PASSWORD} variant=\"link\">Forgot Password</Button>\n\n          </Col>\n        </Row>\n\n      </Container>\n    </Fragment>\n\n  );\n};\nconst mapStateToProps = (state) => {\n  const { auth } = state;\n\n  return {\n    isAuthed: auth.isAuthed,\n  };\n};\nexport default connect(mapStateToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}