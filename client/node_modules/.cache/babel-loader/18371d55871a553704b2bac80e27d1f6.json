{"ast":null,"code":"import _classCallCheck from\"/Users/yanniksood/Desktop/FindMarketPlays.com/FindMarketPlays/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yanniksood/Desktop/FindMarketPlays.com/FindMarketPlays/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/yanniksood/Desktop/FindMarketPlays.com/FindMarketPlays/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yanniksood/Desktop/FindMarketPlays.com/FindMarketPlays/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";// TODO: This needs a full refactor\nimport React from'react';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Container from'react-bootstrap/Container';import ScrollingWidget from'../Widgets/ScrollingWidget';import Wallpapers from'./DDItem';var DD=/*#__PURE__*/function(_React$Component){_inherits(DD,_React$Component);var _super=_createSuper(DD);function DD(props){var _this;_classCallCheck(this,DD);_this=_super.call(this,props);_this.state={subreddit:'WallStreetResearch',sort:'new',files:[],after:null,before:null,page:1};_this.nextPage=function(){fetch(\"\".concat(_this.url+_this.state.subreddit,\"/\").concat(_this.state.sort,\".json?count=\").concat(_this.state.page*25,\"&after=\").concat(_this.state.after)).then(function(res){return res.json();}).then(function(data){_this.setState(function(){return{files:data.data.children,after:data.data.after,before:data.data.before,page:_this.state.page+1};});window.scrollTo(0,0);}).catch(console.log);};_this.prevPage=function(){fetch(\"\".concat(_this.url+_this.state.currentSubreddit,\"/\").concat(_this.state.sort,\".json?count=\").concat((_this.state.page-1)*25-1,\"&before=\").concat(_this.state.before)).then(function(res){return res.json();}).then(function(data){window.scrollTo(0,0);var newState={files:data.data.children,after:data.data.after,before:data.data.before};if(_this.state.page>1){newState.page=_this.state.page-1;}_this.setState(newState);}).catch(console.log);};_this.subreddit='WallStreetResearch';_this.url='https://www.reddit.com/r/';_this.sorts=['hot','new','top','controversial','rising'];return _this;}_createClass(DD,[{key:\"componentDidMount\",value:function componentDidMount(){this.setSubreddit(this.state.subreddit);}},{key:\"setSubreddit\",value:function setSubreddit(sub){var _this2=this;this.setState({files:[],currentSubreddit:sub,page:1});fetch(\"\".concat(this.url+sub,\"/\").concat(this.state.sort,\".json\")).then(function(res){return res.json();}).then(function(data){_this2.setState({files:data.data.children,after:data.data.after,before:data.data.before});window.scrollTo(0,0);}).catch(console.log);}},{key:\"changeSort\",value:function changeSort(sort){var _this3=this;this.setState({files:[],sort:sort,page:1});fetch(\"\".concat(this.url+this.state.subreddit,\"/\").concat(sort,\".json\")).then(function(res){return res.json();}).then(function(data){_this3.setState({files:data.data.children,after:data.data.after,before:data.data.before});window.scrollTo(0,0);}).catch(console.log);}},{key:\"render\",value:function render(){var contentJSX;if(this.state.files.length>0){var pagingJSX;var buttonNext=/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",type:\"submit\",onClick:this.nextPage},\"Next\");var buttonPrev=/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-secondary\",type:\"submit\",onClick:this.prevPage},\"Previous\");if(this.state.after===null&&this.state.before!==null){// last page\npagingJSX=/*#__PURE__*/React.createElement(\"div\",null,buttonPrev);}else if(this.state.before===null&&this.state.after!==null){// first page\npagingJSX=/*#__PURE__*/React.createElement(\"div\",null,buttonNext);}else if(this.state.before!==null&&this.state.after!==null){// in between pages\npagingJSX=/*#__PURE__*/React.createElement(\"div\",null,buttonPrev,' ',/*#__PURE__*/React.createElement(\"span\",{className:\"p-3 text-black-50\"},\"Page\",this.state.page),' ',buttonNext);}else{pagingJSX=/*#__PURE__*/React.createElement(\"div\",null,\"No Posts found.\");}contentJSX=/*#__PURE__*/React.createElement(\"div\",{className:\"m-2\"},/*#__PURE__*/React.createElement(Wallpapers,{files:this.state.files}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"center-block m-2\"},pagingJSX));}else{contentJSX=/*#__PURE__*/React.createElement(\"div\",{className:\"p-2\"},/*#__PURE__*/React.createElement(\"center\",null,\"Loading...\"));}return/*#__PURE__*/React.createElement(\"div\",{className:\"DD\"},/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(ScrollingWidget,null))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Find Trade Opportunities\"))),contentJSX));}}]);return DD;}(React.Component);export default DD;","map":{"version":3,"sources":["/Users/yanniksood/Desktop/FindMarketPlays.com/FindMarketPlays/client/src/components/Research/DD.js"],"names":["React","Row","Col","Container","ScrollingWidget","Wallpapers","DD","props","state","subreddit","sort","files","after","before","page","nextPage","fetch","url","then","res","json","data","setState","children","window","scrollTo","catch","console","log","prevPage","currentSubreddit","newState","sorts","setSubreddit","sub","contentJSX","length","pagingJSX","buttonNext","buttonPrev","Component"],"mappings":"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","sourcesContent":["// TODO: This needs a full refactor\nimport React from 'react';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport ScrollingWidget from '../Widgets/ScrollingWidget';\nimport Wallpapers from './DDItem';\n\nclass DD extends React.Component {\n  constructor(props) {\n    super(props);\n    this.subreddit = 'WallStreetResearch';\n\n    this.url = 'https://www.reddit.com/r/';\n    this.sorts = ['hot', 'new', 'top', 'controversial', 'rising'];\n  }\n\n    state = {\n      subreddit: 'WallStreetResearch',\n      sort: 'new',\n      files: [],\n      after: null,\n      before: null,\n      page: 1,\n    };\n\n    componentDidMount() {\n      this.setSubreddit(this.state.subreddit);\n    }\n\n    setSubreddit(sub) {\n      this.setState({\n        files: [],\n        currentSubreddit: sub,\n        page: 1,\n      });\n\n      fetch(`${this.url + sub}/${this.state.sort}.json`)\n        .then(res => res.json())\n        .then((data) => {\n          this.setState({\n            files: data.data.children,\n            after: data.data.after,\n            before: data.data.before,\n          });\n          window.scrollTo(0, 0);\n        })\n        .catch(console.log);\n    }\n\n\n    nextPage = () => {\n      fetch(`${this.url + this.state.subreddit}/${this.state.sort}.json?count=${this.state.page * 25}&after=${this.state.after}`)\n        .then(res => res.json())\n        .then((data) => {\n          this.setState(() => ({\n            files: data.data.children,\n            after: data.data.after,\n            before: data.data.before,\n            page: this.state.page + 1,\n          }));\n          window.scrollTo(0, 0);\n        })\n        .catch(console.log);\n    }\n\n    prevPage = () => {\n      fetch(`${this.url + this.state.currentSubreddit}/${this.state.sort}.json?count=${((this.state.page - 1) * 25) - 1}&before=${this.state.before}`)\n        .then(res => res.json())\n        .then((data) => {\n          window.scrollTo(0, 0);\n          const newState = {\n            files: data.data.children,\n            after: data.data.after,\n            before: data.data.before,\n          };\n          if (this.state.page > 1) {\n            newState.page = this.state.page - 1;\n          }\n          this.setState(newState);\n        })\n        .catch(console.log);\n    }\n\n    changeSort(sort) {\n      this.setState({\n        files: [],\n        sort,\n        page: 1,\n      });\n      fetch(`${this.url + this.state.subreddit}/${sort}.json`)\n        .then(res => res.json())\n        .then((data) => {\n          this.setState({\n            files: data.data.children,\n            after: data.data.after,\n            before: data.data.before,\n          });\n          window.scrollTo(0, 0);\n        })\n        .catch(console.log);\n    }\n\n    render() {\n      let contentJSX;\n      if (this.state.files.length > 0) {\n        let pagingJSX;\n        const buttonNext = <button className=\"btn btn-primary\" type=\"submit\" onClick={this.nextPage}>Next</button>;\n        const buttonPrev = <button className=\"btn btn-secondary\" type=\"submit\" onClick={this.prevPage}>Previous</button>;\n        if (this.state.after === null && this.state.before !== null) {\n          // last page\n          pagingJSX = <div>{buttonPrev}</div>;\n        } else if (this.state.before === null && this.state.after !== null) {\n          // first page\n          pagingJSX = <div>{buttonNext}</div>;\n        } else if (this.state.before !== null && this.state.after !== null) {\n          // in between pages\n          pagingJSX = (\n            <div>\n              {buttonPrev}\n              {' '}\n              <span className=\"p-3 text-black-50\">\n                Page\n                {this.state.page}\n              </span>\n              {' '}\n              {buttonNext}\n            </div>\n          );\n        } else {\n          pagingJSX = <div>No Posts found.</div>;\n        }\n        contentJSX = (\n          <div className=\"m-2\">\n            <Wallpapers files={this.state.files} />\n            <br />\n            <div className=\"center-block m-2\">{pagingJSX}</div>\n          </div>\n        );\n      } else {\n        contentJSX = <div className=\"p-2\"><center>Loading...</center></div>;\n      }\n\n      return (\n        <div className=\"DD\">\n          <Container fluid>\n            <Row>\n              <Col><ScrollingWidget /></Col>\n            </Row>\n            <Row>\n              <Col>\n                <h1>Find Trade Opportunities</h1>\n              </Col>\n            </Row>\n            {contentJSX}\n          </Container>\n        </div>\n      );\n    }\n}\n\nexport default DD;\n"]},"metadata":{},"sourceType":"module"}