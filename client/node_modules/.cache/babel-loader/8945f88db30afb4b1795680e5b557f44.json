{"ast":null,"code":"import _slicedToArray from\"/Users/yanniksood/Desktop/FindMarketPlays.com/FindMarketPlays/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Fragment}from'react';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Container from'react-bootstrap/Container';import{useHistory}from'react-router-dom';import{connect}from'react-redux';import Form from'react-bootstrap/Form';import ScrollingWidget from'../Widgets/ScrollingWidget';import NewsFlow from'./NewsFlow';import*as ROUTES from'../../routes/routes';import{debounce}from'../../helpers/SearchHelper';var NewsFeed=function NewsFeed(_ref){var isAuthed=_ref.isAuthed;// Hooks\nvar _useState=useState('TSLA'),_useState2=_slicedToArray(_useState,2),searchedValue=_useState2[0],setSearchedValue=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),options=_useState4[0],setOptions=_useState4[1];var history=useHistory();useEffect(function(){if(!isAuthed){history.push(ROUTES.LOGIN);}else{var fetchData=function fetchData(){var url=\"/newsAPI/\".concat(searchedValue);fetch(url,{headers:{Accept:'application/json'}}).then(function(res){return res.json().then(function(json){setOptions(json.message||[]);});}).catch(function(err){return console.error(err);});// eslint-disable-line\n};debounce(fetchData());}},[isAuthed,history,searchedValue]);// Handlers\nvar handleInputChange=function handleInputChange(event){setSearchedValue(event.target.value.toUpperCase());};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(ScrollingWidget,null),/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,{className:\"widget__wrapper\"},/*#__PURE__*/React.createElement(Col,{md:7},/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Find News Articles\"),/*#__PURE__*/React.createElement(\"h5\",null,\"ENTER STOCK TICKER\"),/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",value:searchedValue,onChange:handleInputChange,placeholder:\"Enter Stock Ticker\"}))))),/*#__PURE__*/React.createElement(Row,null,searchedValue&&options.length>0&&/*#__PURE__*/React.createElement(NewsFlow,{value:options}))));};var mapStateToProps=function mapStateToProps(state){var auth=state.auth;return{isAuthed:auth.isAuthed};};export default connect(mapStateToProps)(NewsFeed);","map":{"version":3,"sources":["/Users/yanniksood/Desktop/FindMarketPlays.com/FindMarketPlays/client/src/components/News/NewsFeed.js"],"names":["React","useState","useEffect","Fragment","Row","Col","Container","useHistory","connect","Form","ScrollingWidget","NewsFlow","ROUTES","debounce","NewsFeed","isAuthed","searchedValue","setSearchedValue","options","setOptions","history","push","LOGIN","fetchData","url","fetch","headers","Accept","then","res","json","message","catch","err","console","error","handleInputChange","event","target","value","toUpperCase","length","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Form from 'react-bootstrap/Form';\nimport ScrollingWidget from '../Widgets/ScrollingWidget';\nimport NewsFlow from './NewsFlow';\nimport * as ROUTES from '../../routes/routes';\nimport { debounce } from '../../helpers/SearchHelper';\n\nconst NewsFeed = ({ isAuthed }) => {\n  // Hooks\n  const [searchedValue, setSearchedValue] = useState('TSLA');\n  const [options, setOptions] = useState([]);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (!isAuthed) {\n      history.push(ROUTES.LOGIN);\n    } else {\n        const fetchData = () => {\n          const url = `/newsAPI/${searchedValue}`;\n          fetch(url, { headers: { Accept: 'application/json' } })\n            .then(res => res.json()\n              .then((json) => {\n                setOptions(json.message || []);\n              }))\n            .catch(err => console.error(err)); // eslint-disable-line\n        };\n        debounce(fetchData());\n    }\n  }, [isAuthed, history, searchedValue]);\n\n  // Handlers\n  const handleInputChange = (event) => {\n    setSearchedValue(event.target.value.toUpperCase());\n  };\n\n\n  return (\n    <Fragment>\n      <ScrollingWidget />\n      <Container>\n        <Row className=\"widget__wrapper\">\n          <Col md={7}>\n            <Form>\n              <h1>Find News Articles</h1>\n              <h5>ENTER STOCK TICKER</h5>\n              <Form.Group>\n                <Form.Control\n                  type=\"text\"\n                  value={searchedValue}\n                  onChange={handleInputChange}\n                  placeholder=\"Enter Stock Ticker\"\n                />\n              </Form.Group>\n            </Form>\n          </Col>\n        </Row>\n        <Row>\n          {searchedValue && options.length > 0 && <NewsFlow value={options} />}\n        </Row>\n      </Container>\n    </Fragment>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  const { auth } = state;\n\n  return {\n    isAuthed: auth.isAuthed,\n  };\n};\nexport default connect(mapStateToProps)(NewsFeed);\n"]},"metadata":{},"sourceType":"module"}